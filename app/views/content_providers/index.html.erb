<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">Content Providers</h1>
    </div>
</div>


<div class="row">
    <div class="col-lg-12">
        <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover">
                <thead>
                    <tr>
                      <th>id</th>
                      <th>Name</th>
                      <th>Description</th>
                      <th>Folder name</th>
                      <th>Custom bucket</th>
                      <th>Path in bucket</th>
                      <th>Users</th>
                      <th></th>
                    </tr>
                </thead>
                <tbody>

                  <% @content_providers.each do |content_provider| %>

                    <tr>
                      <td><%= content_provider.id %></td>
                      <td><%= content_provider.name %></td>
                      <td><%= content_provider.description %></td>
                      <td><%= content_provider.technical_name %></td>
                      <td><%= content_provider.aws_bucket_name %></td>
                      <td><%= content_provider.path_in_bucket %></td>
                      <td><%= raw content_provider.users.map{|u|
                          u.email + ' ' + link_to('Edit', edit_user_path(u), class: 'btn btn-default btn-xs')
                        }.to_sentence(words_connector: '<br>', two_words_connector: '<br>and ', last_word_connector: '<br>and ') %></td>
                      <td>
                        <%= link_to 'Show', content_provider, class: 'btn btn-info btn-sm' %>
                        <%= link_to 'Edit', edit_content_provider_path(content_provider), class: 'btn btn-info btn-sm' %>
                        <%= link_to 'Delete', content_provider, method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-danger btn-sm' %>
                      </td>

                    </tr>

                  <% end %>

                </tbody>
            </table>
        </div>
    </div>
</div>

<%= link_to 'New Content provider', new_content_provider_path, class: 'btn btn-info btn-sm' %>

